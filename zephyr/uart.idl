// require returns a UART object
// var uart = require('uart');

enum UARTParity { "none", "event", "odd" };

[Return_from_require]
interface UART {
    UARTConnection init(UARTOptions options);
};

dictionary UARTOptions {
    string port;
    // number baud = 115200;
    // number dataBits = 8;
    // number stopBits = 1;
    // UARTParity parity = "none";
    // boolean flowControl = false;
};

[NoInterfaceObject, ExternalInterface=(buffer, Buffer)]
interface UARTConnection {
    Promise<void> init(UARTOptions options);
    // void close();
    Promise<void> write(Buffer data);
    void setReadRange(unsigned long min, unsigned long max);
};
